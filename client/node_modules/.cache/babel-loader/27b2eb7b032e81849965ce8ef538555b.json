{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Victus\\\\Desktop\\\\Node JS\\\\news-mern\\\\client\\\\src\\\\components\\\\Register\\\\Register.js\";\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    password: '',\n    phone: ''\n  });\n  const [showVerification, setShowVerification] = useState(false);\n  const [inputCode, setInputCode] = useState('');\n  const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\n  const navigate = useNavigate(); // Initialize the useNavigate hook\n\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:5000/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: formData.name,\n          password: formData.password,\n          phone_number: formData.phone\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Registration Success:', data);\n        setServerCode(data.verificationCode); // Save the server-side generated code\n        setShowVerification(true); // Move to the verification step\n      } else {\n        throw new Error(data.message || 'Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration Error:', error);\n      alert(error.message);\n    }\n  };\n  const handleVerification = () => {\n    if (inputCode === serverCode) {\n      alert('Verification successful!');\n      navigate('/'); // Navigate to the home page\n    } else {\n      alert('Incorrect verification code. Please try again.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, !showVerification ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: formStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: titleStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"REGISTER\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter your name\",\n    value: formData.name,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Enter your password\",\n    value: formData.password,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"tel\",\n    name: \"phone\",\n    placeholder: \"Enter your phone number\",\n    value: formData.phone,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"Register\")) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Start to bot:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Verification Code\",\n    value: inputCode,\n    onChange: e => setInputCode(e.target.value),\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://t.me/regnodejs_bot\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 49\n    }\n  }, \"Go to bot\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleVerification,\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Verify\")));\n};\nconst formStyle = {\n  display: 'flex',\n  flexDirection: 'column',\n  width: '300px',\n  padding: '20px',\n  borderRadius: '8px',\n  boxShadow: '0 10px 20px rgba(0, 0, 0, 0.2)',\n  border: '1px solid #ccc'\n};\nconst inputStyle = {\n  marginBottom: '15px',\n  padding: '12px',\n  borderRadius: '6px',\n  border: '1px solid #ddd',\n  fontSize: '16px',\n  outline: 'none',\n  transition: 'border-color 0.3s'\n};\nconst buttonStyle = {\n  padding: '12px',\n  borderRadius: '6px',\n  backgroundColor: '#28a745',\n  color: '#fff',\n  border: 'none',\n  fontSize: '16px',\n  cursor: 'pointer',\n  transition: 'background-color 0.3s',\n  TextDecoder: ''\n};\nconst titleStyle = {\n  marginBottom: '20px',\n  fontSize: '24px',\n  color: '#333',\n  textAlign: 'center',\n  color: 'white'\n};\nexport default Register;","map":{"version":3,"names":["React","useState","Link","useNavigate","Register","formData","setFormData","name","password","phone","showVerification","setShowVerification","inputCode","setInputCode","serverCode","setServerCode","navigate","handleChange","e","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","phone_number","data","json","ok","console","log","verificationCode","Error","message","error","alert","handleVerification","createElement","style","display","justifyContent","alignItems","height","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","formStyle","titleStyle","type","placeholder","onChange","inputStyle","buttonStyle","flexDirection","marginBottom","href","onClick","width","padding","borderRadius","boxShadow","border","fontSize","outline","transition","backgroundColor","color","cursor","TextDecoder","textAlign"],"sources":["C:/Users/Victus/Desktop/Node JS/news-mern/client/src/components/Register/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Register = () => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        password: '',\r\n        phone: '',\r\n    });\r\n    const [showVerification, setShowVerification] = useState(false);\r\n    const [inputCode, setInputCode] = useState('');\r\n    const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\r\n    const navigate = useNavigate(); // Initialize the useNavigate hook\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/auth', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    password: formData.password,\r\n                    phone_number: formData.phone,\r\n                }),\r\n            });\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                console.log('Registration Success:', data);\r\n                setServerCode(data.verificationCode); // Save the server-side generated code\r\n                setShowVerification(true); // Move to the verification step\r\n            } else {\r\n                throw new Error(data.message || 'Registration failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Registration Error:', error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handleVerification = () => {\r\n        if (inputCode === serverCode) {\r\n            alert('Verification successful!');\r\n            navigate('/'); // Navigate to the home page\r\n        } else {\r\n            alert('Incorrect verification code. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\r\n            {!showVerification ? (\r\n                <form onSubmit={handleSubmit} style={formStyle}>\r\n                    {/* Registration form fields */}\r\n                    <h2 style={titleStyle}>REGISTER</h2>\r\n                    <input type=\"text\" name=\"name\" placeholder=\"Enter your name\" value={formData.name} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"password\" name=\"password\" placeholder=\"Enter your password\" value={formData.password} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" value={formData.phone} onChange={handleChange} style={inputStyle} />\r\n                    <button type=\"submit\" style={buttonStyle}>Register</button>\r\n                </form>\r\n            ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <label style={{ marginBottom: '10px' }}>Start to bot:</label>\r\n                    <input type=\"text\" placeholder=\"Verification Code\" value={inputCode} onChange={(e) => setInputCode(e.target.value)} style={inputStyle} />\r\n                    <button style={buttonStyle}><a href='https://t.me/regnodejs_bot'>Go to bot</a></button>\r\n                    <button onClick={handleVerification} style={buttonStyle}>Verify</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst formStyle = {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    width: '300px',\r\n    padding: '20px',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 10px 20px rgba(0, 0, 0, 0.2)',\r\n    border: '1px solid #ccc',\r\n};\r\n\r\nconst inputStyle = {\r\n    marginBottom: '15px',\r\n    padding: '12px',\r\n    borderRadius: '6px',\r\n    border: '1px solid #ddd',\r\n    fontSize: '16px',\r\n    outline: 'none',\r\n    transition: 'border-color 0.3s',\r\n};\r\n\r\nconst buttonStyle = {\r\n    padding: '12px',\r\n    borderRadius: '6px',\r\n    backgroundColor: '#28a745',\r\n    color: '#fff',\r\n    border: 'none',\r\n    fontSize: '16px',\r\n    cursor: 'pointer',\r\n    transition: 'background-color 0.3s',\r\n    TextDecoder: ''\r\n};\r\n\r\nconst titleStyle = {\r\n    marginBottom: '20px',\r\n    fontSize: '24px',\r\n    color: '#333',\r\n    textAlign: 'center',\r\n    color: 'white'\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}