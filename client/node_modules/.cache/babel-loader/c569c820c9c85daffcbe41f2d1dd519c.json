{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Victus\\\\Desktop\\\\Node JS\\\\news-mern\\\\client\\\\src\\\\components\\\\Register\\\\Register.js\";\nimport React, { useState } from 'react';\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    password: '',\n    phone: ''\n  });\n  const [showVerification, setShowVerification] = useState(false);\n  const [inputCode, setInputCode] = useState('');\n  const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\n\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formattedDate = formatDate(formData.dob);\n    try {\n      const response = await fetch('http://localhost:5000/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: formData.name,\n          password: formData.password,\n          phone_number: formData.phone\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Registration Success:', data);\n        setServerCode(data.verificationCode); // Save the server-side generated code\n        setShowVerification(true); // Move to the verification step\n      } else {\n        throw new Error(data.message || 'Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration Error:', error);\n      alert(error.message);\n    }\n  };\n  const handleVerification = () => {\n    if (inputCode === serverCode) {\n      alert('Verification successful!');\n    } else {\n      alert('Incorrect verification code. Please try again.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      backgroundColor: '#f0f4f8'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, !showVerification ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '300px',\n      padding: '20px',\n      borderRadius: '8px',\n      backgroundColor: '#fff',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter your name\",\n    value: formData.name,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"surname\",\n    placeholder: \"Enter your surname\",\n    value: formData.surname,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"dob\",\n    placeholder: \"Enter your date of birth\",\n    value: formData.dob,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Enter your email\",\n    value: formData.email,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"tel\",\n    name: \"phone\",\n    placeholder: \"Enter your phone number\",\n    value: formData.phone,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, \"Register\")) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }, \"Enter verification code:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Verification Code\",\n    value: inputCode,\n    onChange: e => setInputCode(e.target.value),\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleVerification,\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Verify\")));\n};\nconst inputStyle = {\n  marginBottom: '10px',\n  padding: '10px',\n  borderRadius: '4px',\n  border: '1px solid #ccc'\n};\nconst buttonStyle = {\n  padding: '10px',\n  borderRadius: '4px',\n  backgroundColor: '#007bff',\n  color: '#fff',\n  cursor: 'pointer'\n};\nexport default Register;","map":{"version":3,"names":["React","useState","Register","formData","setFormData","name","password","phone","showVerification","setShowVerification","inputCode","setInputCode","serverCode","setServerCode","handleChange","e","target","value","handleSubmit","preventDefault","formattedDate","formatDate","dob","response","fetch","method","headers","body","JSON","stringify","phone_number","data","json","ok","console","log","verificationCode","Error","message","error","alert","handleVerification","createElement","style","display","justifyContent","alignItems","height","backgroundColor","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","flexDirection","width","padding","borderRadius","boxShadow","type","placeholder","onChange","inputStyle","surname","email","buttonStyle","marginBottom","onClick","border","color","cursor"],"sources":["C:/Users/Victus/Desktop/Node JS/news-mern/client/src/components/Register/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst Register = () => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        password: '',\r\n        phone: '',\r\n    });\r\n    const [showVerification, setShowVerification] = useState(false);\r\n    const [inputCode, setInputCode] = useState('');\r\n    const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formattedDate = formatDate(formData.dob);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/auth', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    password: formData.password,\r\n                    phone_number: formData.phone,\r\n                }),\r\n            });\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                console.log('Registration Success:', data);\r\n                setServerCode(data.verificationCode); // Save the server-side generated code\r\n                setShowVerification(true); // Move to the verification step\r\n            } else {\r\n                throw new Error(data.message || 'Registration failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Registration Error:', error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handleVerification = () => {\r\n        if (inputCode === serverCode) {\r\n            alert('Verification successful!');\r\n        } else {\r\n            alert('Incorrect verification code. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', backgroundColor: '#f0f4f8' }}>\r\n            {!showVerification ? (\r\n                <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', width: '300px', padding: '20px', borderRadius: '8px', backgroundColor: '#fff', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>\r\n                    {/* Registration form fields */}\r\n                    <input type=\"text\" name=\"name\" placeholder=\"Enter your name\" value={formData.name} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"text\" name=\"surname\" placeholder=\"Enter your surname\" value={formData.surname} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"text\" name=\"dob\" placeholder=\"Enter your date of birth\" value={formData.dob} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Enter your email\" value={formData.email} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" value={formData.phone} onChange={handleChange} style={inputStyle} />\r\n                    <button type=\"submit\" style={buttonStyle}>Register</button>\r\n                </form>\r\n            ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <label style={{ marginBottom: '10px' }}>Enter verification code:</label>\r\n                    <input type=\"text\" placeholder=\"Verification Code\" value={inputCode} onChange={(e) => setInputCode(e.target.value)} style={inputStyle} />\r\n                    <button onClick={handleVerification} style={buttonStyle}>Verify</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst inputStyle = {\r\n    marginBottom: '10px',\r\n    padding: '10px',\r\n    borderRadius: '4px',\r\n    border: '1px solid #ccc',\r\n};\r\n\r\nconst buttonStyle = {\r\n    padding: '10px',\r\n    borderRadius: '4px',\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    cursor: 'pointer',\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}