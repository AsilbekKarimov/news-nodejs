{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Victus\\\\Desktop\\\\Node JS\\\\news-mern\\\\client\\\\src\\\\components\\\\Register\\\\Register.js\";\nimport React, { useState } from 'react';\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    surname: '',\n    dob: '',\n    phone: '',\n    email: ''\n  });\n  const [showVerification, setShowVerification] = useState(false);\n  const [inputCode, setInputCode] = useState('');\n  const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\n\n  const handleChange = e => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const formatDate = dateString => {\n    const parts = dateString.split('.');\n    return `${parts[2]}-${parts[1]}-${parts[0]}`;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formattedDate = formatDate(formData.dob);\n    try {\n      const response = await fetch('http://localhost:5000/auth', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: formData.name,\n          password: formData.password,\n          phone_number: formData.phone\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        console.log('Registration Success:', data);\n        setServerCode(data.verificationCode); // Save the server-side generated code\n        setShowVerification(true); // Move to the verification step\n      } else {\n        throw new Error(data.message || 'Registration failed');\n      }\n    } catch (error) {\n      console.error('Registration Error:', error);\n      alert(error.message);\n    }\n  };\n  const handleVerification = () => {\n    if (inputCode === serverCode) {\n      alert('Verification successful!');\n    } else {\n      alert('Incorrect verification code. Please try again.');\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      height: '100vh',\n      backgroundColor: '#f0f4f8'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, !showVerification ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '300px',\n      padding: '20px',\n      borderRadius: '8px',\n      backgroundColor: '#fff',\n      boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Enter your name\",\n    value: formData.name,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"surname\",\n    placeholder: \"Enter your surname\",\n    value: formData.surname,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"dob\",\n    placeholder: \"Enter your date of birth\",\n    value: formData.dob,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Enter your email\",\n    value: formData.email,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"tel\",\n    name: \"phone\",\n    placeholder: \"Enter your phone number\",\n    value: formData.phone,\n    onChange: handleChange,\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Register\")) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    style: {\n      marginBottom: '10px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, \"Enter verification code:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Verification Code\",\n    value: inputCode,\n    onChange: e => setInputCode(e.target.value),\n    style: inputStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleVerification,\n    style: buttonStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, \"Verify\")));\n};\nconst inputStyle = {\n  marginBottom: '10px',\n  padding: '10px',\n  borderRadius: '4px',\n  border: '1px solid #ccc'\n};\nconst buttonStyle = {\n  padding: '10px',\n  borderRadius: '4px',\n  backgroundColor: '#007bff',\n  color: '#fff',\n  cursor: 'pointer'\n};\nexport default Register;","map":{"version":3,"names":["React","useState","Register","formData","setFormData","name","surname","dob","phone","email","showVerification","setShowVerification","inputCode","setInputCode","serverCode","setServerCode","handleChange","e","target","value","formatDate","dateString","parts","split","handleSubmit","preventDefault","formattedDate","response","fetch","method","headers","body","JSON","stringify","password","phone_number","data","json","ok","console","log","verificationCode","Error","message","error","alert","handleVerification","createElement","style","display","justifyContent","alignItems","height","backgroundColor","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","flexDirection","width","padding","borderRadius","boxShadow","type","placeholder","onChange","inputStyle","buttonStyle","marginBottom","onClick","border","color","cursor"],"sources":["C:/Users/Victus/Desktop/Node JS/news-mern/client/src/components/Register/Register.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst Register = () => {\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        surname: '',\r\n        dob: '',\r\n        phone: '',\r\n        email: '',\r\n    });\r\n    const [showVerification, setShowVerification] = useState(false);\r\n    const [inputCode, setInputCode] = useState('');\r\n    const [serverCode, setServerCode] = useState(''); // Simulating the code from the server\r\n\r\n    const handleChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    const formatDate = (dateString) => {\r\n        const parts = dateString.split('.');\r\n        return `${parts[2]}-${parts[1]}-${parts[0]}`;\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        const formattedDate = formatDate(formData.dob);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/auth', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    name: formData.name,\r\n                    password: formData.password,\r\n                    phone_number: formData.phone,\r\n                }),\r\n            });\r\n            const data = await response.json();\r\n            if (response.ok) {\r\n                console.log('Registration Success:', data);\r\n                setServerCode(data.verificationCode); // Save the server-side generated code\r\n                setShowVerification(true); // Move to the verification step\r\n            } else {\r\n                throw new Error(data.message || 'Registration failed');\r\n            }\r\n        } catch (error) {\r\n            console.error('Registration Error:', error);\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handleVerification = () => {\r\n        if (inputCode === serverCode) {\r\n            alert('Verification successful!');\r\n        } else {\r\n            alert('Incorrect verification code. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', backgroundColor: '#f0f4f8' }}>\r\n            {!showVerification ? (\r\n                <form onSubmit={handleSubmit} style={{ display: 'flex', flexDirection: 'column', width: '300px', padding: '20px', borderRadius: '8px', backgroundColor: '#fff', boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)' }}>\r\n                    {/* Registration form fields */}\r\n                    <input type=\"text\" name=\"name\" placeholder=\"Enter your name\" value={formData.name} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"text\" name=\"surname\" placeholder=\"Enter your surname\" value={formData.surname} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"text\" name=\"dob\" placeholder=\"Enter your date of birth\" value={formData.dob} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"email\" name=\"email\" placeholder=\"Enter your email\" value={formData.email} onChange={handleChange} style={inputStyle} />\r\n                    <input type=\"tel\" name=\"phone\" placeholder=\"Enter your phone number\" value={formData.phone} onChange={handleChange} style={inputStyle} />\r\n                    <button type=\"submit\" style={buttonStyle}>Register</button>\r\n                </form>\r\n            ) : (\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                    <label style={{ marginBottom: '10px' }}>Enter verification code:</label>\r\n                    <input type=\"text\" placeholder=\"Verification Code\" value={inputCode} onChange={(e) => setInputCode(e.target.value)} style={inputStyle} />\r\n                    <button onClick={handleVerification} style={buttonStyle}>Verify</button>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst inputStyle = {\r\n    marginBottom: '10px',\r\n    padding: '10px',\r\n    borderRadius: '4px',\r\n    border: '1px solid #ccc',\r\n};\r\n\r\nconst buttonStyle = {\r\n    padding: '10px',\r\n    borderRadius: '4px',\r\n    backgroundColor: '#007bff',\r\n    color: '#fff',\r\n    cursor: 'pointer',\r\n};\r\n\r\nexport default Register;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}